<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Service Workers</title>

  <!-- build:css(./app) /assets/styles/styles.css -->
  <link rel="stylesheet" href="/_tmp/styles/styles.css">
  <!-- endbuild -->

  <!-- build:js(./app) /assets/scripts/vendor.js -->
  <script src="/_tmp/scripts/vendor.js"></script>
  <!-- endbuild -->
</head>
<body>
  <h1>Service Workers are great!</h1>
  <img src="/assets/images/icons/trendyminds.svg" alt="TrendyMinds Logo">

  <br><br>

  <button data-inject="https://s3.amazonaws.com/trendyminds/open-graph/TrendyMindsIcon.png">Inject an image onto the page</button>

  <br><br>

  <button data-movies="http://netflixroulette.net/api/api.php?director=Christopher%20Nolan">Christopher Nolan movies on Netflix</button>

  <br><br>

  <!-- build:js(./app) /assets/scripts/app.js -->
  <script src="/_tmp/scripts/app.js"></script>

  <script>
    // Test if this browser has the capability of utilizing Service Workers
    if ('serviceWorker' in navigator) {
      // If it does, point to /app/sw.js or /dist/sw.js for instructions on how the Service Worker should behave
      navigator.serviceWorker.register('/sw.js').then(function(reg) {
        // Output a success message if the Service Worker loaded successfully and pass in the `reg` argument for inspection
        console.log('Yay, we have a service worker!', reg);
      }).catch(function(err) {
        // Output an error message if the Service Worker failed and pass in the `reg` argument for inspection
        console.log('Oh no. The service worker is not working...', err);
      });
    }
  </script>
  <!-- endbuild -->
</body>
</html>
